<div *ngIf="!project; else projectView">
  <md-card-header>
      <md-card-title>
        <h3>{{ slug }}</h3>
    </md-card-title>
  </md-card-header>
  <md-card-content>
    <app-activity-indicator
      [color]="activityColor">
    </app-activity-indicator>
  </md-card-content>
</div>

<ng-template #projectView>
  <md-card-header>
    <img md-card-avatar class="size-72"
         alt="project.name"
         [src]="getAvatar(project.slug)">
    <md-card-title>
      <h3>{{project.name}}</h3>
    </md-card-title>
    <md-card-subtitle>{{ getRemoteTranslation(project.subtitle) }}</md-card-subtitle>
    <span flex></span>
    <div class="pad-top pad-right">
      <a *ngIf="project.url" md-icon-button mdTooltip="web"
      href="{{project.url}}" target="_blank"><md-icon>public</md-icon></a>
      <a *ngIf="project.repo" md-icon-button mdTooltip="Github"
         href="{{project.repo}}" target="_blank">
        <md-icon svgIcon="github"></md-icon>
      </a>
    </div>
  </md-card-header>
  <img md-card-image alt="{{project.name}}"
       [offset]="offset"
       [defaultImage]="loadingImage"
       [lazyLoad]="getMainImage(project.slug)"
       [srcset]="getMainImageSet(project.slug)"
        sizes="(min-width: 960px) 960px, 100vw">
  <md-card-content>
    <img md-card-avatar class="tag size-32"
         *ngFor="let tag of project.tags.split(',') | arrayExtract:6"
         [src]="getMainTechImage(tag)"
         alt="{{tag}}" title="{{tag}}">
    <md-divider></md-divider>
    <div [innerHTML]="getRemoteTranslation(project.description)"></div>
    <md-list dense>
      <md-list-item>
        <md-icon md-list-avatar>date_range</md-icon>
        <h4 md-line><span class="text-wrap">{{ 'WORKS.year' | translate }}</span></h4>
        <p md-line>{{project.year}}</p>
      </md-list-item>
      <md-divider></md-divider>
      <md-list-item>
        <md-icon md-list-avatar>person</md-icon>
        <h4 md-line><span class="text-wrap">{{ 'WORKS.client' | translate }}</span></h4>
        <p md-line>{{project.client}}</p>
      </md-list-item>
      <md-divider></md-divider>
      <md-list-item>
        <md-icon md-list-avatar>tag_faces</md-icon>
        <h4 md-line><span class="text-wrap">{{ 'WORKS.partner' | translate }}</span></h4>
        <p md-line>{{project.partner}}</p>
      </md-list-item>
      <md-divider></md-divider>
      <md-list-item>
        <md-icon md-list-avatar>settings</md-icon>
        <h4 md-line><span class="text-wrap">{{ 'WORKS.techs' | translate }}</span></h4>
        <p md-line>{{project.tools}}</p>
      </md-list-item>
    </md-list>
  </md-card-content>
</ng-template>
